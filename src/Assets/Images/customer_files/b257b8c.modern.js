(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1263:function(t,e,n){var content=n(2215);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("47fd750a",content,!0,{sourceMap:!1})},2165:function(t,e,n){"use strict";var o={props:{width:{type:String,default:"40px"}}},r=n(2214),l=n(8);var component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container},[e("div",{class:t.$style.spinner,style:{width:t.width,height:t.width}})])}),[],!1,(function(t){this.$style=r.default.locals||r.default}),null,null);e.a=component.exports},2214:function(t,e,n){"use strict";var o=n(1263),r=n.n(o);n.d(e,"default",(function(){return r.a}))},2215:function(t,e,n){var o=n(36)(!1);o.push([t.i,"@keyframes spinner_yDG\\+K{to{transform:rotate(360deg)}}.container_GPzFV{position:relative;height:100%}.container_GPzFV .spinner_yDG\\+K{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:inherit;height:inherit;border-radius:50%;border:4px solid #D8DBEB;border-top-color:#0092e4;animation:spinner_yDG\\+K 0.6s linear infinite}\n",""]),o.locals={container:"container_GPzFV",spinner:"spinner_yDG+K"},t.exports=o},2505:function(t,e,n){var content=n(3726);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("212a57ad",content,!0,{sourceMap:!1})},2506:function(t,e,n){var content=n(3728);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("6d0a9608",content,!0,{sourceMap:!1})},2507:function(t,e,n){var content=n(3730);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("b70bb9c0",content,!0,{sourceMap:!1})},2508:function(t,e,n){var content=n(3732);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("2ee78847",content,!0,{sourceMap:!1})},3725:function(t,e,n){"use strict";var o=n(2505),r=n.n(o);n.d(e,"default",(function(){return r.a}))},3726:function(t,e,n){var o=n(36)(!1);o.push([t.i,".container_exSVE{box-shadow:inset 0 1px #EBEDF5}.container_exSVE .btnDownload_qnJ74:after{border-color:#fff}\n",""]),o.locals={container:"container_exSVE",btnDownload:"btnDownload_qnJ74"},t.exports=o},3727:function(t,e,n){"use strict";var o=n(2506),r=n.n(o);n.d(e,"default",(function(){return r.a}))},3728:function(t,e,n){var o=n(36)(!1);o.push([t.i,".container_ZK-dx .animation_lUXlD{width:100px;height:100px;border-radius:8px;box-shadow:0 0 0 1px #D8DBEB;background:#fff;display:flex;justify-content:center;align-items:center;overflow:hidden;transition:background 0.2s linear}.container_ZK-dx .animation_lUXlD.active_zKaAl{background:#F5F6FA;box-shadow:0 0 0 2px #0092e4}.container_ZK-dx .animation_lUXlD:hover{background:#FAFAFC}.container_ZK-dx .animation_lUXlD .action_X0Fus{position:absolute;top:0;left:0;height:100%;width:100%}.container_ZK-dx .loadingSm_\\+IKah{width:98px;height:98px}\n",""]),o.locals={container:"container_ZK-dx",animation:"animation_lUXlD",active:"active_zKaAl",action:"action_X0Fus",loadingSm:"loadingSm_+IKah"},t.exports=o},3729:function(t,e,n){"use strict";var o=n(2507),r=n.n(o);n.d(e,"default",(function(){return r.a}))},3730:function(t,e,n){var o=n(36)(!1);o.push([t.i,".container_IYjV4 .header_MP\\+\\+W{display:flex;justify-content:space-between;align-items:center;width:100%;padding:1.25rem;border-bottom:1px solid #EBEDF5}.container_IYjV4 .hide_nfdB-{display:flex;justify-content:center;align-items:center;height:30px;width:30px;background:#000;border-radius:50%;color:#fff}.container_IYjV4 .sidebar_Rj3m\\+{width:273px;max-height:477px;height:477px;padding:1.25rem;overflow-x:hidden;overflow-y:auto;border-right:1px solid #EBEDF5;overflow:-moz-scrollbars-none}.container_IYjV4 .sidebar_Rj3m\\+::-webkit-scrollbar{width:0 !important}.container_IYjV4 .animation_CgtrN{width:100px;height:100px;border-radius:8px;border:1px solid #D8DBEB;background:#fff;display:flex;justify-content:center;align-items:center;overflow:hidden;transition:background 0.2s linear}.container_IYjV4 .animation_CgtrN:hover{background:#F5F6FA}.container_IYjV4 .animation_CgtrN .action_rCToX{position:absolute;top:0;left:0;height:100%;width:100%}.container_IYjV4 .main_ECzXG{display:flex}.container_IYjV4 .main_ECzXG .wrapper_iDpvj{flex-grow:1}.container_IYjV4 .main_ECzXG .content_gUq0m{display:flex;justify-content:center;align-items:center;height:393px;background:#F5F6FA}.container_IYjV4 .main_ECzXG .content_gUq0m .preview_-VfNq{display:flex;justify-content:center;align-items:center;background:#fff;border-radius:8px;object-fit:cover;width:256px;height:256px;overflow:hidden;box-shadow:0px 1px 4px rgba(0,0,0,0.15)}.container_IYjV4 .main_ECzXG .content_gUq0m .loading_6DmuF{width:256px;height:256px}\n",""]),o.locals={container:"container_IYjV4",header:"header_MP++W",hide:"hide_nfdB-",sidebar:"sidebar_Rj3m+",animation:"animation_CgtrN",action:"action_rCToX",main:"main_ECzXG",wrapper:"wrapper_iDpvj",content:"content_gUq0m",preview:"preview_-VfNq",loading:"loading_6DmuF"},t.exports=o},3731:function(t,e,n){"use strict";var o=n(2508),r=n.n(o);n.d(e,"default",(function(){return r.a}))},3732:function(t,e,n){var o=n(36)(!1);o.push([t.i,".modal_cmGQq .modal-dialog{max-width:830px !important}.modal_cmGQq .modal-content{border-radius:12px;overflow:hidden;min-height:546px}.modal_cmGQq .modal-body{padding:0}\n",""]),o.locals={modal:"modal_cmGQq"},t.exports=o},3943:function(t,e,n){"use strict";n.r(e);var o=n(7),r=n(3973),l=n(1372),d=n(991),c=n(11),f=(n(30),n(43),n(31),n(963)),m=n(1358),h=n.n(m),v=n(1065),_=n(1364),w=n(25),y=n(2165),x=n(165),j=n(953),$=n(954),C={components:{BDropdown:j.a,BDropdownItemButton:$.a},props:{isLoading:{type:String,default:null}}},P=n(3725),D=n(8);var O=Object(D.a)(C,(function(){var t=this,e=t._self._c;return e("div",{class:["d-flex justify-content-between align-items-center p-5",t.$style.container]},[e("button",{staticClass:"btn btn-default has-image-icon",attrs:{type:"button"},on:{click:function(e){return t.$emit("open-editor")}}},[e("img",{attrs:{src:n(1107),alt:"Edit"}}),t._v(" "),e("span",{staticClass:"ml-3"},[t._v("Edit Colors")])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("b-dropdown",{ref:"dropdown",attrs:{"toggle-class":[t.$style.btnDownload,"download"===t.isLoading?"ajax-loading disabled":null],"menu-class":t.$style.dropdownMenu,variant:"primary",text:"Download",right:"",dropup:"",boundary:"window"},nativeOn:{mouseover:function(e){t.$refs.dropdown.visible=!0},mouseleave:function(e){t.$refs.dropdown.visible=!1}}},[e("b-dropdown-item-button",{on:{click:function(e){return t.$emit("download",{format:"mp4"})}}},[t._v("\n        MP4\n      ")]),t._v(" "),e("b-dropdown-item-button",{on:{click:function(e){return t.$emit("download",{format:"gif"})}}},[t._v("\n        GIF\n      ")]),t._v(" "),e("b-dropdown-item-button",{on:{click:function(e){return t.$emit("download",{format:"json"})}}},[t._v("\n        Lottie JSON\n      ")])],1)],1)])}),[],!1,(function(t){this.$style=P.default.locals||P.default}),null,null).exports,S={components:{LoadingSmall:y.a,Lottie:x.a},props:{preset:{type:Object,default:()=>{}},isActive:{type:Boolean,default:!1}}},I=n(3727);var L=Object(D.a)(S,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container},[e("div",{class:["m-2-5 position-relative",t.$style.animation,t.isActive?t.$style.active:null]},[t.preset.isLoading?e("div",{class:["mx-auto",t.$style.loadingSm]},[e("loading-small")],1):t.preset.jsonContent?[e("lottie",{attrs:{"json-content":t.preset.jsonContent,width:98,height:98,observe:!1,loop:""}}),t._v(" "),e("a",{class:t.$style.action,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("select-preset")}}})]:t._e()],2)])}),[],!1,(function(t){this.$style=I.default.locals||I.default}),null,null).exports;function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var B={components:{UilTimes:f.a,LoadingSmall:y.a,Lottie:x.a,Preset:L,SvgToLottieFooter:O},props:{content:{type:String,default:null},fileName:{type:String,default:null},initWithBrandColor:{type:Boolean,default:!1},item:{type:Object,default:()=>{}}},data:()=>({presets:[],selectedPresetIndex:0,timer:null,isLoading:null}),fetch(){for(var t=[],i=18;i>=0;i--)t.push({index:i,jsonContent:null,isLoading:!1});this.presets=t;for(var e=0;e<this.presets.length;e++)this.fetchPreset(this.presets[e])},computed:{preset:{get(){return this.presets[this.selectedPresetIndex]||{index:0,jsonContent:null,isLoading:!1}},set(t){this.selectedPresetIndex=t}}},methods:{fetchPreset(t){var e=this;return Object(o.a)((function*(){try{var n=Object(w.b)("/svg-to-lottie/preset/",{preset:t.index}),o=new File([e.content],"animation.svg",{type:"image/svg+xml"}),r=new FormData;r.append("file",o),t.isLoading=!0;var l=yield e.$axios.post(n,r,{progress:!1});t.jsonContent=JSON.stringify(l.data)}catch(t){console.log(t)}finally{t.isLoading=!1}}))()},onDownload(t){var e=this;return Object(o.a)((function*(){try{if(e.isLoading="download",e.preset.jsonContent){var n=new File([e.preset.jsonContent],"".concat(e.fileName||e.$route.params.slug||"Animation",".json"),{type:"application/json"});if("json"===t.format)h.a.saveAs(n),e.informToBackend({format:t.format}),e.isLoading=null;else{var o=yield Object(_.c)(n,"lottie",null,{}),r=Object(w.b)("/render-farm/convert"),l=yield e.$axios.post(r,{entry_id:e.item?e.item.id:Math.floor((new Date).valueOf()*Math.random()%1e6)+e.preset.index,data_file:o.url,source:"iconscout",bg_color:"255,255,255,1",dimensions:500,render_types:[t.format]});e.timer=setInterval((()=>e.fetchDownloadUrl(l.data.executionArn,t.format)),2e3)}}}catch(t){console.error(t);var title=t.message||"Oops, Something went wrong!";e.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!0,bodyClass:"d-none"})}}))()},fetchDownloadUrl(t,e){var n=this;return Object(o.a)((function*(){try{var o=Object(w.b)("/render-farm/describe",{executionArn:t}),r=yield n.$axios.get(o,{progress:!1});if("SUCCEEDED"===r.data.status)clearInterval(n.timer),setTimeout((()=>{h.a.saveAs(r.data.assets[0].url,"".concat(n.item?n.item.name:"Animation",".").concat(r.data.assets[0].type)),n.informToBackend({format:e}),n.isLoading=null}),2e3),n.isLoading=null;else if("FAILED"===r.data.status){clearInterval(n.timer);var title="Something went wrong please try again later or contact our support team";n.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!0,bodyClass:"d-none"}),window.$crisp.push(["do","chat:open"]),n.isLoading=null}}catch(t){console.error(t),clearInterval(n.timer);var l="Something went wrong please try again later or contact our support team";n.$root.$bvToast.toast(l,{title:l,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!0,bodyClass:"d-none"}),n.isLoading=null,window.$crisp.push(["do","chat:open"])}}))()},onSelectPreset(t){this.selectedPresetIndex=t,this.$analytics.track("lottie-preset",E({location:"svg-to-lottie-modal",route:this.$route.name,variant:t,action:"view"},this.initWithBrandColor&&this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id}))},onOpenEditor(){this.content&&(this.$analytics.track("lottie-preset",E({location:"svg-to-lottie-modal",route:this.$route.name,action:"color-editor"},this.initWithBrandColor&&this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id})),this.$emit("hide"),this.$modal.open({id:"modalEditIcon",component:Promise.all([n.e(6),n.e(8),n.e(30),n.e(13),n.e(225)]).then(n.bind(null,3027)),options:{modalOnModal:!0},props:{svgContent:this.content,initWithBrandColor:this.initWithBrandColor&&!!this.$store.getters["brandPalettes/selectedPalette"]}}))},informToBackend(t){var{format:e}=t;this.$analytics.track("lottie-preset",E({location:"svg-to-lottie-modal",route:this.$route.name,variant:this.preset.index,action:"download",format:e},this.initWithBrandColor&&this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id})),this.item&&Object(v.a)(E({uuid:this.item.uuid,format:e,licenseId:this.item.license_id,size:0},this.initWithBrandColor&&this.$store.getters["brandPalettes/selectedPalette"]&&{brandPaletteId:this.$store.getters["brandPalettes/selectedPalette"].id}))}}},F=n(3729);var A=Object(D.a)(B,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container},[e("div",{class:t.$style.header},[e("div",{staticClass:"font-weight-semi-bold"},[t._v("SVG to Lottie")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("a",{staticClass:"font-size-sm text-muted",attrs:{href:"https://discord.gg/SCrxJyCEgS",target:"_blank",rel:"noopener"}},[t._v("Report an issue")]),t._v(" "),e("a",{class:["ml-5",t.$style.hide],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("hide")}}},[e("uil-times",{attrs:{size:"24"}})],1)])]),t._v(" "),e("div",{class:t.$style.main},[e("div",{class:["py-3",t.$style.sidebar]},[t._m(0),t._v(" "),t.presets.length?e("div",{staticClass:"d-flex flex-wrap"},t._l(t.presets,(function(n,o){return e("preset",{key:o,attrs:{preset:n,"is-active":t.selectedPresetIndex===o},on:{"select-preset":function(e){return t.onSelectPreset(o)}}})})),1):t._e()]),t._v(" "),e("div",{class:t.$style.wrapper},[e("div",{class:t.$style.content},[e("div",{class:t.$style.preview},[t.preset.isLoading?e("div",{class:["mx-auto",t.$style.loading]},[e("loading-small")],1):t.preset.jsonContent?e("lottie",{key:t.preset.index,attrs:{"json-content":t.preset.jsonContent,width:256,height:256,observe:!1,loop:""}}):t._e()],1)]),t._v(" "),e("svg-to-lottie-footer",{attrs:{"is-loading":t.isLoading},on:{download:t.onDownload,"open-editor":t.onOpenEditor}})],1)])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-between align-items-center mx-2-5 mb-2 mt-2-5"},[e("h5",{staticClass:"mb-0"},[t._v("Animations")]),t._v(" "),e("a",{staticClass:"caption font-weight-normal mb-0",attrs:{href:"https://lottiefiles.com/svg-to-lottie",rel:"nofollow noopener",target:"_blank"}},[t._v("Upload New file")])])}],!1,(function(t){this.$style=F.default.locals||F.default}),null,null).exports,V={components:{LoadingSmall:l.default,BModal:r.a,SvgToLottie:A},mixins:[d.a],props:{svgContent:{type:String,default:null},item:{type:Object,default:()=>{}},fileName:{type:String,default:null},initWithBrandColor:{type:Boolean,default:!1}},data:()=>({content:null,isLoading:!1}),methods:{onShown(){if(this.svgContent)this.content=this.svgContent;else if(this.item)if(this.$store.getters["brandPalettes/selectedPalette"]){var t=document.getElementById("pdpColorEditor-".concat(this.item.id));if(t){var e=n(1127),o=t.childNodes[0].getAttribute("id"),r=e.get(o);this.content=r.svg()}else this.fetchContentFromItem()}else this.fetchContentFromItem();else this.onHide()},fetchContentFromItem(){var t=this;return Object(o.a)((function*(){try{var e=!t.isLoggedIn&&0===t.selectedLicense.price&&!t.$store.getters["settings/guestDownloadCountReached"];t.isLoading=!0;var n=yield t.download({format:"svg",url:!0,guest:e}),o=yield t.$axios.get(n,{withCredentials:!1});t.content=o.data}catch(e){var title=null;title=e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message||"Oops, Something went wrong!",console.error(e),t.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),t.onHide()}finally{t.isLoading=!1}}))()},onHide(){this.$modal.close("modalSvgToLottie")}}},G=n(3731);var M=Object(D.a)(V,(function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"modalSvgToLottie","modal-class":[t.$style.modal,"scale"],visible:"",centered:"","hide-header":"","hide-footer":"","no-fade":""},on:{shown:t.onShown}},[t.isLoading?e("loading-small",{attrs:{"background-color":"rgba(255,255,255,0.4)"}}):t.content?e("svg-to-lottie",{attrs:{content:t.content,"file-name":t.fileName,"init-with-brand-color":t.initWithBrandColor,item:t.item},on:{hide:t.onHide}}):t._e()],1)}),[],!1,(function(t){this.$style=G.default.locals||G.default}),null,null);e.default=M.exports}}]);
//# sourceMappingURL=b257b8c.modern.js.map